<% if has_profile? %>
  <%= link_to profile_url, class: "profile__user" do %>
    <div class="profile__user-avatar-container">
      <div class="profile__user-avatar">
        <%= image_tag model.avatar_url(:big), alt: "member-avatar" %>
      </div>
    </div>
    <div>
      <h5 class="profile__user-name">
        <%= name %>
        <span class="capitalize profile__user-role">
          <%= position %>
        </span>
      </h5>
      <% if nickname.present? %>
        <span class="profile__user-nick block">
          <%= nickname %>
        </span>
      <% end %>
      <div class="mt-2">
        <span class="text-gray-2">
          <%= t("decidim.assembly_members.assembly_member.designated_on") %>
        </span>
        <strong>
          <%= l designation_date, format: :decidim_short %>
        </strong>
      </div>
      <span class="profile__user-nick">
        <%= personal_information %>
      </span>
    </div>
  <% end %>
<% else %>
  <div class="profile__user">
    <div class="profile__user-avatar-container">
      <div class="profile__user-avatar">
        <%= image_tag model.non_user_avatar_path, alt: "member-avatar" %>
      </div>
    </div>
    <div>
      <div class="profile__user-nick">
        <%= nickname.presence %>
        <span class="capitalize profile__user-role">
          <%= position %>
        </span>
      </div>
      <div class="mt-2">
        <span class="text-gray-2">
          <%= t("decidim.assembly_members.assembly_member.designated_on") %>
        </span>
        <strong>
          <%= l designation_date, format: :decidim_short %>
        </strong>
      </div>
      <span class="profile__user-nick">
        <%= personal_information %>
      </span>
    </div>
  </div>
<% end %>
